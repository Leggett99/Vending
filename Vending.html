<!doctype HTML>
<html>
    <style>
    div{
        color: white;
    }
        .overlay {
    height: 100%;
    width: 0;
    position: fixed;
    z-index: 1;
    top: 0;
    left: 0;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0, 0.9);
    overflow-x: hidden;
    transition: 0.5s;
}
.overlay-content {
    position: relative;
    top: 25%;
    width: 100%;
    text-align: center;
    margin-top: 30px;
}
.overlay a {
    padding: 8px;
    text-decoration: none;
    font-size: 36px;
    color: #818181;
    display: block;
    transition: 0.3s;
}
.overlay a:hover, .overlay a:focus {
    color: #f1f1f1;
}
.closebtn {
    position: absolute;
    top: 20px;
    right: 45px;
    font-size: 60px !important;
}
@media screen and (max-height: 450px) {
  .overlay a {font-size: 20px}
  .closebtn {
    font-size: 40px !important;
    top: 15px;
    right: 35px;
  }
}
    table, th, td {
        border: 2px solid black;
}
    </style>
    <head>
       <meta charset="utf-8"/>
       <title>Nick, Tim and Josh Vending Machine</title>
             <script>
             var wallet = 0;
             var stock = new Array();
             //coke stock
             stock[0] = 8;
             //pepsi stock
             stock[1] = 8;
             //fanta stock
             stock[2] = 8;
             
//Sold
             var sold = new Array();
             //Coke
             sold[0] = 0;
             //Pepsi
             sold[1] = 0;
             //Fanta
             sold[2] = 0;
//coins 5c - $2
             var coins = new Array(6);
             coins[0] = 0.05;
             coins[1] = 0.1;
             coins[2] = 0.2;
             coins[3] = 0.5;
             coins[4] = 1.0;
             coins[5] = 2.0;
//Money Functions
             function wallet_add(money){
                var tempvar = wallet += money;   
                tempvar = tempvar.toFixed(2);       
                document.getElementById("money").innerHTML = "Your balance in machine is: $" + tempvar;
                document.getElementById("overmoney").innerHTML= "Your balance in machine is: $" + tempvar;
                document.getElementById("coke").innerHTML = "";
                document.getElementById("pepsi").innerHTML = "";
                document.getElementById("fanta").innerHTML = "";
                document.getElementById("purchconf").innerHTML = "";
                }
             function change(){
                if(wallet>0){
                  var money1 = wallet;
                  alert ("Your change is $" + money1);
                  wallet = 0;
                  document.getElementById("money").innerHTML = "Welcome, Please insert some money to continue.";
                  document.getElementById("coke").innerHTML = "";
                  document.getElementById("pepsi").innerHTML = "";
                  document.getElementById("fanta").innerHTML = "";
                  document.getElementById("purchconf").innerHTML = "";
                }
                else{
                  document.getElementById("money").innerHTML = "Welcome, Please insert some money to continue.";
                  document.getElementById("coke").innerHTML = "";
                  document.getElementById("pepsi").innerHTML = "";
                  document.getElementById("fanta").innerHTML = "";
                  document.getElementById("purchconf").innerHTML = "";
                }
                 
                }
   //Password
            function Admin(x) {
                if(x.pass.value == "pass"){
                    document.getElementById("money").innerHTML = "Welcome Admin!";
                    document.getElementById("coke").innerHTML = "Amount of Cokes sold since last stock: " +sold[0];
                    document.getElementById("pepsi").innerHTML= "Amount of Pepsi sold since last stock: " +sold[1];
                    document.getElementById("fanta").innerHTML= "Amount of Fanta sold since last stock: " +sold[2];
                    document.getElementById("purchconf").innerHTML = "Coke left: " +stock[0] + ", Pepsi left: " + stock[1] + ", Fanta left: " + stock[2];
                    document.getElementById("admin").reset();
                }
                else{
                    document.getElementById("purchconf").innerHTML = "Invalid Password Entered, Access is Denied";
                    document.getElementById("money").innerHTML = "";
                    document.getElementById("purchconf").innerHTML = "";
                    document.getElementById("admin").reset();
                    return false;
                }
            }
//Overlay functions
             function openNav() {
                document.getElementById("myNav").style.width = "100%";
                document.getElementById("overmoney").innerHTML= "Your balance in machine is: $" + wallet;
                }
             function closeNav() {
                document.getElementById("myNav").style.width = "0%";
                }
             function pay_coke(){
                if(stock[0] > 0){
                    if(wallet>4.45){
                        var r = confirm("Confirming payment of $4.45")
                            if (r == true) {
                                 document.getElementById("purchconf").innerHTML= "Thank you for your purchase!";
                                    var tempvar = wallet -= 4.45;
                                    wallet = wallet.toFixed(2);
                                    tempvar = tempvar.toFixed(2);
                                    sold[0] += 1;
                                    stock[0] -= 1;
                                }
                                else{
                                    document.getElementById("purchconf").innerHTML= "Changed your mind? No worries, perhaps another item?";
                                } 
                            document.getElementById("money").innerHTML = "Your balance in machine is: $" + wallet
                        }
                        else{
                            document.getElementById("purchconf").innerHTML= "You haven't got the balance to make that purchase my friend...";
                        }
                     }
                    else{
                        document.getElementById("purchconf").innerHTML = "Our stock of coke is actually out at the moment, contact the admin to get more stock in."
                    }
             }
             function pay_pepsi(){
                if(stock[1] > 0){
                    if(wallet>4.95){
                        var r = confirm("Confirming payment of $4.95");
                            if (r == true) {
                                alert("Thank you for your purchase!");
                                    var tempvar = wallet -= 4.95;
                                    tempvar = tempvar.toFixed(2);
                                    wallet = wallet.toFixed(2);
                                    sold[1] += 1;
                                    stock[1] -= 1;
                                }
                                else{
                                    document.getElementById("purchconf").innerHTML= "Changed your mind? No worries, perhaps another item?";
                                } 
                                document.getElementById("money").innerHTML = "Your balance in machine is: $" + wallet
                        }
                        else{
                            document.getElementById("purchconf").innerHTML="You haven't got the balance to make that purchase my friend...";
                        }
                        }
                        else{
                        document.getElementById("purchconf").innerHTML = "Our stock of Fanta is actually out at the moment, contact the admin to get more stock in.";
                    }
                 
             }
             function pay_fanta(){
                if(stock[2] > 0){
                    if(wallet>4.25){
                        var r = confirm("Confirming payment of $4.25")
                            if (r == true) {
                                 document.getElementById("purchconf").innerHTML= "Thank you for your purchase!";
                                    var tempvar = wallet -= 4.25;
                                    wallet = wallet.toFixed(2);
                                    tempvar = tempvar.toFixed(2);
                                    sold[2] += 1;
                                    stock[2] -= 1;
                                }
                                else{
                                    document.getElementById("purchconf").innerHTML= "Changed your mind? No worries, perhaps another item?";
                                } 
                            document.getElementById("money").innerHTML = "Your balance in machine is: $" + wallet
                        }
                        else{
                            document.getElementById("purchconf").innerHTML= "You haven't got the balance to make that purchase my friend...";
                        }
                    }
                    else{
                        document.getElementById("purchconf").innerHTML = "Our stock of Fanta is actually out at the moment, contact the admin to get more stock in."
                    }
             }
         </script>
    </head>
    <h1>Team Vending Machine</h1>
    <body onload="change()">
        <div id="myNav" class="overlay">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">Ã—</a>
        <div class="overlay-content">
            <img src="5cents.png" alt="5 cents" height="75" width="75" id="1" onClick="wallet_add(coins[0])">
            <img src="10cents.png" alt="10 cents" height="85" width="85" onClick="wallet_add(coins[1])">
            <img src="20cents.png" alt="20 cents" height="95" width="95" onClick="wallet_add(coins[2])">
            <img src="50cents.png" alt="50 cents" height="100" width="100" onClick="wallet_add(coins[3])">
            <img src="1dorra.png" alt="1 dollar" height="85" width="85" onClick="wallet_add(coins[4])">
            <img src="2dorra.png" alt="2 dollars" height="75" width="75" onClick="wallet_add(coins[5])">
            <p id=overmoney></p>
        </div>
        </div>
         <table style="width:100%">
           <tr>
               <td><img src="Coke.png" alt="coke" style="width:100px;height:250px;" onClick="pay_coke()"></td>
               <td><img src="Fanta.png" alt="fanta" style="width:100px;height:250px;" onClick="pay_fanta()"</td>        
               <td>
                  <p id="money"></p>
                  <p id="coke"></p>
                  <p id="pepsi"></p>
                  <p id="fanta"></p>
                  <p id="purchconf"></p>

               </td>
           </tr>
           <tr>
               <td><img src="Pepsi.png" alt="pepsi" style="width:100px;height:250px;"onClick="pay_pepsi()"></td></td>
               <td></td>       
               <td>
                 <form>
                    <input type="button" value="Change" onClick="change()">
                 </form>
               </td>
           </tr>
           <tr>
               <td></td>
               <td></td>       
               <td>
                  <form id=admin>
                    <p>Password:<input type="password" name="pass"></p>
                    <p><input type="button" value="Login" onClick="Admin(this.form)"></p>
                  </form>
               </td>
           </tr>
       </table>

                        <center>

                            <span style="font-size:30px;cursor:pointer" onclick="openNav()">Wallet</span>
                                <p>
                        </center>
    </body>
</html>
